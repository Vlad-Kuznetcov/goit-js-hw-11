{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport async function searchImages(value) {\n  const form = document.querySelector('.form');\n  form.insertAdjacentHTML('afterend', '<div id=\"loader\" class=\"loader\"></div>');\n  const params = new URLSearchParams({\n    key: '45057307-b447de7416eadb33be54d4a0d',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 20,\n  });\n  const baseUrl = 'https://pixabay.com/api/';\n  const response = await fetch(`${baseUrl}?${params}`);\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return await response.json();\n}\n","const ulEl = document.querySelector('.gallery');\n\nfunction imgTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item> \n    <figure class=\"sign\">\n        <a href=\"${largeImageURL}\"><img class=\"list-img\" src=\"${webformatURL}\" alt=\"${tags}\" title=\"\" width=\"360\" height=\"200\"/></a><span class=\"title-img\">\n        <figcaption class=\"title-img\"><ul class=\"figcaption\">\n      <li class=\"figcaption-item\">Likes<p class=\"counter\">${likes}</p></li>\n      <li class=\"figcaption-item\">Views<p class=\"counter\">${views}</p></li>\n      <li class=\"figcaption-item\">Comments<p class=\"counter\">${comments}</p></li>\n      <li class=\"figcaption-item\">Downloads<p class=\"counter\">${downloads}</p></li>\n    </ul></figcaption>\n    </figure>\n   </li>`;\n}\n\nfunction imagesTemplate(arr) {\n  return arr.map(imgTemplate).join('');\n}\n\nexport function renderImg(hits) {\n  const markup = imagesTemplate(hits);\n  ulEl.innerHTML = markup;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api';\nimport { renderImg } from './js/render-functions';\nimport simpleLightbox from 'simplelightbox';\n\nconst refs = {\n  btnSubEl: document.querySelector('.btn-search'),\n  formEl: document.querySelector('.form'),\n  input: document.querySelector('input'),\n  ul: document.querySelector('ul'),\n};\n\nrefs.formEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  refs.ul.innerHTML = '';\n  if (refs.input.value.trim()) {\n    const res = searchImages(refs.input.value.trim());\n    res\n      .then(response => {\n        if (response.total !== 0) {\n          renderImg(response.hits);\n          let gallery = new simpleLightbox('.gallery a');\n          gallery.refresh();\n        } else {\n          iziToast.error({\n            message: 'Image is not found',\n            position: 'topRight',\n          });\n        }\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        document.querySelector('.loader').remove();\n      });\n    refs.input.value = '';\n  } else {\n    iziToast.error({\n      message: 'Please fill in the input field :c',\n      position: 'topRight',\n    });\n  }\n});\n"],"names":["searchImages","value","params","response","ulEl","imgTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","renderImg","hits","markup","refs","evt","simpleLightbox","iziToast","error"],"mappings":"6vBAGO,eAAeA,EAAaC,EAAO,CAC3B,SAAS,cAAc,OAAO,EACtC,mBAAmB,WAAY,wCAAwC,EAC5E,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAEKE,EAAW,MAAM,MAAM,4BAAcD,CAAM,EAAE,EACnD,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAO,MAAMA,EAAS,MACxB,CCpBA,MAAMC,EAAO,SAAS,cAAc,UAAU,EAE9C,SAASC,EAAY,CACnB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,mBAEUL,CAAa,gCAAgCD,CAAY,UAAUE,CAAI;AAAA;AAAA,4DAE9BC,CAAK;AAAA,4DACLC,CAAK;AAAA,+DACFC,CAAQ;AAAA,gEACPC,CAAS;AAAA;AAAA;AAAA,SAIzE,CAEA,SAASC,EAAeC,EAAK,CAC3B,OAAOA,EAAI,IAAIT,CAAW,EAAE,KAAK,EAAE,CACrC,CAEO,SAASU,EAAUC,EAAM,CAC9B,MAAMC,EAASJ,EAAeG,CAAI,EAClCZ,EAAK,UAAYa,CACnB,CCzBA,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,aAAa,EAC9C,OAAQ,SAAS,cAAc,OAAO,EACtC,MAAO,SAAS,cAAc,OAAO,EACrC,GAAI,SAAS,cAAc,IAAI,CACjC,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,GAAO,CAC5CA,EAAI,eAAc,EAClBD,EAAK,GAAG,UAAY,GAChBA,EAAK,MAAM,MAAM,KAAI,GACXlB,EAAakB,EAAK,MAAM,MAAM,KAAI,CAAE,EAE7C,KAAKf,GAAY,CACZA,EAAS,QAAU,GACrBY,EAAUZ,EAAS,IAAI,EACT,IAAIiB,EAAe,YAAY,EACrC,QAAO,GAEfC,EAAS,MAAM,CACb,QAAS,qBACT,SAAU,UACtB,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACb,SAAS,cAAc,SAAS,EAAE,OAAM,CAChD,CAAO,EACHJ,EAAK,MAAM,MAAQ,IAEnBG,EAAS,MAAM,CACb,QAAS,oCACT,SAAU,UAChB,CAAK,CAEL,CAAC"}