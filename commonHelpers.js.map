{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const ulEl = document.querySelector('.gallery');\n\nfunction imgTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item> \n    <figure class=\"sign\">\n        <a href=\"${largeImageURL}\"><img class=\"list-img\" src=\"${webformatURL}\" alt=\"${tags}\" title=\"\" width=\"360\" height=\"200\"/></a><span class=\"title-img\">\n        <figcaption class=\"title-img\"><ul class=\"figcaption\">\n      <li class=\"figcaption-item\">Likes<p class=\"counter\">${likes}</p></li>\n      <li class=\"figcaption-item\">Views<p class=\"counter\">${views}</p></li>\n      <li class=\"figcaption-item\">Comments<p class=\"counter\">${comments}</p></li>\n      <li class=\"figcaption-item\">Downloads<p class=\"counter\">${downloads}</p></li>\n    </ul></figcaption>\n    </figure>\n   </li>`;\n}\n\nfunction imagesTemplate(arr) {\n  return arr.map(imgTemplate).join('');\n}\n\nexport function renderImg(hits) {\n  const markup = imagesTemplate(hits);\n  ulEl.innerHTML = markup;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { renderImg } from './render-functions';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\n\nexport function searchImages(value) {\n  const form = document.querySelector('.form');\n  form.insertAdjacentHTML('afterend', '<div id=\"loader\" class=\"loader\"></div>');\n  const params = new URLSearchParams({\n    key: '44959261-ea439a2adbf8f7e5770dfe1a3',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 20,\n  });\n  const baseUrl = 'https://pixabay.com/api/';\n  return fetch(`${baseUrl}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api';\nimport { renderImg } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  btnSubEl: document.querySelector('.btn-search'),\n  formEl: document.querySelector('.form'),\n  input: document.querySelector('input'),\n  ul: document.querySelector('ul'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.formEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  refs.ul.innerHTML = '';\n\n  if (refs.input.value.trim()) {\n    showLoader();\n\n    const res = searchImages(refs.input.value.trim());\n    res\n      .then(response => {\n        if (response.total !== 0) {\n          renderImg(response.hits);\n          let gallery = new SimpleLightbox('.gallery a');\n          showLoader();\n          gallery.refresh();\n        } else {\n          iziToast.error({\n            message: 'Image is not found',\n            position: 'topRight',\n          });\n        }\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        hideLoader();\n        // clearGallery();\n        refs.input.value = '';\n      });\n  } else {\n    iziToast.error({\n      message: 'Please fill in the input field',\n      position: 'topRight',\n    });\n  }\n});\n\nfunction showLoader() {\n  refs.loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  refs.loader.style.display = 'none';\n}\n"],"names":["ulEl","imgTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","arr","renderImg","hits","markup","searchImages","value","params","response","refs","evt","showLoader","gallery","SimpleLightbox","iziToast","error","hideLoader"],"mappings":"6vBAAA,MAAMA,EAAO,SAAS,cAAc,UAAU,EAE9C,SAASC,EAAY,CACnB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,mBAEUL,CAAa,gCAAgCD,CAAY,UAAUE,CAAI;AAAA;AAAA,4DAE9BC,CAAK;AAAA,4DACLC,CAAK;AAAA,+DACFC,CAAQ;AAAA,gEACPC,CAAS;AAAA;AAAA;AAAA,SAIzE,CAEA,SAASC,EAAeC,EAAK,CAC3B,OAAOA,EAAI,IAAIT,CAAW,EAAE,KAAK,EAAE,CACrC,CAEO,SAASU,EAAUC,EAAM,CAC9B,MAAMC,EAASJ,EAAeG,CAAI,EAClCZ,EAAK,UAAYa,CACnB,CCxBO,SAASC,EAAaC,EAAO,CACrB,SAAS,cAAc,OAAO,EACtC,mBAAmB,WAAY,wCAAwC,EAC5E,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,4BAAcC,CAAM,EAAE,EAAE,KAAKC,GAAY,CACpD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBA,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,aAAa,EAC9C,OAAQ,SAAS,cAAc,OAAO,EACtC,MAAO,SAAS,cAAc,OAAO,EACrC,GAAI,SAAS,cAAc,IAAI,EAC/B,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,GAAO,CAC5CA,EAAI,eAAc,EAClBD,EAAK,GAAG,UAAY,GAEhBA,EAAK,MAAM,MAAM,KAAI,GACvBE,IAEYN,EAAaI,EAAK,MAAM,MAAM,KAAI,CAAE,EAE7C,KAAKD,GAAY,CAChB,GAAIA,EAAS,QAAU,EAAG,CACxBN,EAAUM,EAAS,IAAI,EACvB,IAAII,EAAU,IAAIC,EAAe,YAAY,EAC7CF,IACAC,EAAQ,QAAO,CACzB,MACUE,EAAS,MAAM,CACb,QAAS,qBACT,SAAU,UACtB,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbC,IAEAP,EAAK,MAAM,MAAQ,EAC3B,CAAO,GAEHK,EAAS,MAAM,CACb,QAAS,iCACT,SAAU,UAChB,CAAK,CAEL,CAAC,EAED,SAASH,GAAa,CACpBF,EAAK,OAAO,MAAM,QAAU,OAC9B,CAEA,SAASO,GAAa,CACpBP,EAAK,OAAO,MAAM,QAAU,MAC9B"}